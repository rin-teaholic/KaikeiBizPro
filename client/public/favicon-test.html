<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favicon Test - KaikeiBiz Pro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .icon-test {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        .icon-test img {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            border: 1px solid #ccc;
        }
        .status {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
        }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .info { background-color: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>ğŸ” Favicon Test Page</h1>
    <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ã®èª­ã¿è¾¼ã¿çŠ¶æ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>

    <div class="test-section">
        <h2>ğŸ“± iOS Chromeç”¨ã‚¢ã‚¤ã‚³ãƒ³</h2>
        <div class="icon-test">
            <img src="/apple-touch-icon.svg" alt="Apple Touch Icon" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Apple Touch Icon (180x180)</span>
        </div>
        <div class="icon-test">
            <img src="/favicon.svg" alt="Favicon 32x32" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Favicon 32x32</span>
        </div>
        <div class="icon-test">
            <img src="/favicon.svg" alt="Favicon 16x16" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Favicon 16x16</span>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸŒ SVGã‚¢ã‚¤ã‚³ãƒ³</h2>
        <div class="icon-test">
            <img src="/favicon.svg" alt="Favicon SVG" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Favicon SVG</span>
        </div>
        <div class="icon-test">
            <img src="/icon-192.svg" alt="Icon 192x192" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Icon 192x192 SVG</span>
        </div>
        <div class="icon-test">
            <img src="/icon-512.svg" alt="Icon 512x512" onerror="this.style.display='none'; this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='âŒ èª­ã¿è¾¼ã¿å¤±æ•—';">
            <span class="status info">Icon 512x512 SVG</span>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±</h2>
        <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
        <p><strong>ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ :</strong> <span id="platform"></span></p>
        <p><strong>ãƒ–ãƒ©ã‚¦ã‚¶:</strong> <span id="browser"></span></p>
        <p><strong>PWAå¯¾å¿œ:</strong> <span id="pwaSupport"></span></p>
    </div>

    <div class="test-section">
        <h2>ğŸ“± Web App Manifest</h2>
        <div class="icon-test">
            <span class="status info" id="manifestStatus">manifest.jsonèª­ã¿è¾¼ã¿ä¸­...</span>
        </div>
        <div id="manifestInfo" style="margin-top: 10px;"></div>
    </div>

    <div class="test-section">
        <h2>ğŸ’¡ ç¢ºèªæ‰‹é †</h2>
        <ol>
            <li>ã“ã®ãƒšãƒ¼ã‚¸ã‚’iPhoneã®Chromeã§é–‹ã</li>
            <li>ã‚¿ãƒ–ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
            <li>ä¸Šè¨˜ã®ã‚¢ã‚¤ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã§èª­ã¿è¾¼ã¿çŠ¶æ³ã‚’ç¢ºèª</li>
            <li>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¦å†ç¢ºèª</li>
        </ol>
    </div>

    <script>
        // ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ã‚’è¡¨ç¤º
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('platform').textContent = navigator.platform;
        
        // ãƒ–ãƒ©ã‚¦ã‚¶åˆ¤å®š
        const userAgent = navigator.userAgent;
        let browser = 'Unknown';
        if (userAgent.includes('Chrome') && userAgent.includes('Safari')) {
            browser = 'Chrome';
        } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {
            browser = 'Safari';
        } else if (userAgent.includes('Firefox')) {
            browser = 'Firefox';
        }
        document.getElementById('browser').textContent = browser;
        
        // ã‚¢ã‚¤ã‚³ãƒ³ã®èª­ã¿è¾¼ã¿çŠ¶æ³ã‚’ç¢ºèª
        document.querySelectorAll('.icon-test img').forEach(img => {
            img.onload = function() {
                this.nextElementSibling.className = 'status success';
                this.nextElementSibling.textContent = 'âœ… èª­ã¿è¾¼ã¿æˆåŠŸ';
            };
        });
        
        // PWAå¯¾å¿œç¢ºèª
        const pwaSupport = 'serviceWorker' in navigator ? 'âœ… å¯¾å¿œ' : 'âŒ éå¯¾å¿œ';
        document.getElementById('pwaSupport').textContent = pwaSupport;
        
        // manifest.jsonèª­ã¿è¾¼ã¿ç¢ºèª
        fetch('/manifest.json')
            .then(response => response.json())
            .then(manifest => {
                document.getElementById('manifestStatus').className = 'status success';
                document.getElementById('manifestStatus').textContent = 'âœ… manifest.jsonèª­ã¿è¾¼ã¿æˆåŠŸ';
                
                const manifestInfo = document.getElementById('manifestInfo');
                manifestInfo.innerHTML = `
                    <p><strong>ã‚¢ãƒ—ãƒªå:</strong> ${manifest.name}</p>
                    <p><strong>çŸ­ç¸®å:</strong> ${manifest.short_name}</p>
                    <p><strong>ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼:</strong> ${manifest.theme_color}</p>
                    <p><strong>ã‚¢ã‚¤ã‚³ãƒ³æ•°:</strong> ${manifest.icons.length}å€‹</p>
                `;
            })
            .catch(error => {
                document.getElementById('manifestStatus').className = 'status error';
                document.getElementById('manifestStatus').textContent = 'âŒ manifest.jsonèª­ã¿è¾¼ã¿å¤±æ•—';
                console.error('manifest.jsonèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
            });
    </script>
</body>
</html>
